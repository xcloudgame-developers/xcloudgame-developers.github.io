# 英雄战魂服务端对接文档

    
>## 数填写说明：

Y---->必须,N---非必须

>## 商户密钥（key）:
商户密钥是通讯中用户数据加密及签名验证过程中所需的加密钥匙，该钥匙由双方接口技术人员约定。

>## 接口前缀：
 地址：cp方面提供


>## 调用登录及支付接口：

 发奖接口（post）（https://域名/Pt/order）<br/>

>## 返回值类型：
 json


>## 发奖接口

参数名      | 参数类型 | 最大长度     | 是否必填 | 描述 |
---        | ---     | ---         | ---     | --- |
uid        | string  | 20          | Y       | 用户UID |
sid        | int     | 10          | Y       | 游戏服ID |
gid        | int     | 10          | Y       | 游戏编号 |
game_order | string  | 20          | Y       | 游戏订单号 |
amount     | float   |保留两位小数   | Y       | 订单金额 |
currency   | 金额币种  | 金额币种    | Y       | 币种（e.g. USD）|
game_money | int     | 11          | Y       | 游戏币数量 |
game_good_id | int   | 10          | Y       | 套餐编号（无默认1）|
channel    | string  | 20          | Y       | 下单渠道 |
data       | string  | 100         | N       | 传递参数 |
sign       | String  | 50          | Y       | 数字签名：双方需要验证此信息的正确性 |

>##### 签名方法

所有字段按照键值排序后经过两次md5加密 sign=md5(md5("key1=value1&key2=value2&$key")) 加密key直接拼接在字符串后

>##### Status：200、100、101......108、109、（见返回值代码说明）



>## 错误码

错误码 | 描述 |
---   | ---  |
106   | 数据库操作失败 |
107   | 分区信息不全 |
108   | Key错误 |
109   | sid 有误 |
110   | app_id 有误 |
111   | game_order为空 |
112   | game_order重复 |
113   | amout 或currency错误 |
114   | 需求参数为空 |
115   | game_money 或game_good_id有误 |
116   | 用户不存在 |
117   | 系统错误 |
118    |渠道订单异常 |
119    |验证异常 |
120    |支付失败或未支付|
121    |当日已经分享过了|
124    |uid未注册|
